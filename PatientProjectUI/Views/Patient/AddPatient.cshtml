<div class="card">
    <div class="card-header">

        <h2>Add Patient</h2>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-12">
                <form id="postForm" action="https://localhost:7243/api/patient">
                 
                <div>
                        <label>First Name</label>
                        <input type="text" id="fname" placeholder="First Name"/>

                </div>  
                <div>
                        <label>Last Name</label>
                        <input type="text" id="lname" placeholder="Last Name"/>

                </div> 
                <div>
                        <label>Gender</label>
                <select id="gender">
    <option value="xx">--select gender--</option>
    <option value="male">Male</option>
    <option value="female">Female</option>
</select>

                </div> 
                <div>
                        <label>Date Of Birth</label>
                        <input type="date" id="birthday" placeholder="Your BirthDay" />

                </div> 
                <div>
                        <label>Phone Number</label>
                        <input type="text" id="phonenumber" placeholder="Your Phone Number" />

                </div>
                <div>
                        <label>Address</label>
                        <input type="text" id="address" placeholder="Your Address" />

                </div>
                
                <input type="submit"  />
                </form>

            </div>
        </div>
    </div>

</div>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    $(document).ready(function () {
        $('#patientForm').on('submit', function (e) {
            e.preventDefault();  // Prevent the form from submitting the traditional way

            // Gather form data
            var patientData = {
                FirstName: $('#fname').val(),
                LastName: $('#lname').val(),
                Gender: $('#gender').val(),
                DateOfBirth: $('#birthday').val(),
                PhoneNumber: $('#phonenumber').val(),
                Address: $('#address').val()
            };

            // AJAX POST request
            $.ajax({
                url: 'https://localhost:7243/api/patient/AddPatient',  // Your API endpoint
                method: 'POST',
                contentType: 'application/json',  // Sending JSON data
                data: JSON.stringify(patientData),  // Convert the form data to JSON string
                success: function (response) {
                    // Handle success (response from the server)
                    console.log('Patient added successfully:', response);
                    alert('Patient added successfully!');
                },
                error: function (xhr, status, error) {
                    // Handle errors
                    console.error('Error adding patient:', error);
                    alert('Error adding patient!');
                }
            });
        });
    });
</script>